experiment_name: agiformer_experiment
run_name: ${experiment_name}_${now:%Y%m%d_%H%M%S}
output_dir: outputs/${run_name}
seed: 42
debug: false
_group_:
  vocab_size: 256
  d_model: 512
  n_layers: 8
  n_heads: 8
  d_ff: 2048
  n_experts: 2
  expert_types:
  - language
  - logic
  memory_size: 1000
  max_seq_len: 512
  dropout: 0.1
  use_linear_attention: false
  use_memory: true
  use_introspection: false
  use_multimodal: false
  batch_size: 8
  epochs: 10
  max_steps: 10000
  gradient_accumulation_steps: 4
  learning_rate: 0.0001
  warmup_steps: 1000
  lr_scheduler: cosine
  optimizer: adamw
  adam_beta1: 0.9
  adam_beta2: 0.999
  adam_epsilon: 1.0e-08
  weight_decay: 0.01
  use_amp: true
  amp_dtype: float16
  gradient_clip: 1.0
  use_gradient_checkpointing: true
  log_interval: 50
  save_interval: 500
  eval_interval: 200
  checkpoint_dir: checkpoints
  keep_last_n_checkpoints: 5
  early_stopping_patience: 10
  early_stopping_metric: val_loss
  dataset_name: synthetic
  data_dir: data
  train_split: 0.9
  val_split: 0.1
  num_workers: 4
  pin_memory: true
  persistent_workers: true
  image_size:
  - 224
  - 224
  max_text_length: 77
  validate_data: true
  remove_corrupted: true
  min_caption_length: 5
  max_caption_length: 100
  synthetic_samples: 10000
  synthetic_caption_templates: 10
  device: auto
  gpu_ids:
  - 0
  num_gpus: 1
  memory_fraction: 0.9
  allow_growth: true
  pytorch_cuda_alloc_conf: expandable_segments
  distributed: false
  backend: nccl
  init_method: env
  cudnn_benchmark: true
  cudnn_deterministic: false
  num_threads: 4
  console_level: INFO
  console_format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
  file_logging: true
  log_dir: logs
  log_file: ${experiment_name}.log
  file_level: DEBUG
  file_format: '%(asctime)s - %(name)s - %(levelname)s - %(funcName)s:%(lineno)d -
    %(message)s'
  use_wandb: false
  wandb_project: agiformer
  wandb_entity: null
  wandb_tags: []
  wandb_notes: ''
  use_tensorboard: false
  tensorboard_log_dir: tensorboard_logs
  use_tqdm: true
  tqdm_position: 0
  log_model_info: true
  log_memory_usage: true
  log_gpu_stats: true
