# @package _group_

# AGIFORMER RX590 Hardware Configuration
# Optimized for RX590 8GB + Ryzen 3100 + 24GB DDR4

# Developer: inkbytefo
# Modified: 2025-11-06

# Device Settings
device: cuda
gpu_ids: [0]
num_gpus: 1

# Memory Management (RX590 8GB GDDR5 optimized)
memory_fraction: 0.85  # Daha güvenli, %85 GPU memory kullanımı
allow_growth: true
pytorch_cuda_alloc_conf: expandable_segments,max_split_size_mb:512  # Memory fragmentation azalt

# Distributed Training
distributed: false
backend: nccl
init_method: env

# Performance (Ryzen 3100 + RX590 optimized)
cudnn_benchmark: true
cudnn_deterministic: false
num_threads: 8  # Ryzen 3100 için (4 çekirdek, 8 thread)

# RX590 Specific Optimizations
gpu_memory_efficient: true
use_memory_efficient_attention: true
gradient_checkpointing: true
empty_cache_frequency: 10  # Her 10 adımda GPU cache temizle

# Training Optimizations for 8GB VRAM
max_batch_size_per_gpu: 4
gradient_accumulation_steps: 8
use_mixed_precision: true
mixed_precision_dtype: float16

# Data Loading (CPU optimized)
num_workers: 4
pin_memory: true
persistent_workers: true
prefetch_factor: 2

# Model Size Limits (8GB VRAM için)
max_model_params: 50000000  # ~50M parametre limit
max_seq_len: 1024  # Sequence length sınırlaması
vocab_size_limit: 32000

# Memory Monitoring
memory_monitoring: true
memory_warning_threshold: 0.8  # %80 kullanımda uyarı
memory_critical_threshold: 0.95  # %95 kullanımda eğitim durdur
